@startuml UML Activity Diagram

title Процес бронювання квитків - UML Activity Diagram

skinparam backgroundColor #F0F8FF

skinparam ActivityBackgroundColor #FFFFFF

skinparam ActivityBorderColor #333333

skinparam ActivityFontSize 14

skinparam ArrowColor #333333



|#ADD8E6|**КЛІЄНТ**|

|#90EE90|**СИСТЕМА КІНОТЕАТРУ**|

|#FFB6C1|**ПЛАТІЖНИЙ ШЛЮЗ**|



|**КЛІЄНТ**|

start

:Відкрити розклад сеансів;

note right

  Клієнт переглядає доступні фільми

  та часи сеансів

end note



:Обрати фільм та час сеансу;

:Обрати місця у залі;



|**СИСТЕМА КІНОТЕАТРУ**|

:Перевірити доступність обраних місць;

note right

  Система перевіряє, чи не заброньовані

  обрані місця іншим клієнтом

end note



if (Місця доступні?) then (так)

  :Забронювати місця на 15 хвилин;

  note right

    Таймер: 15 хв на оплату

    Після цього місця звільняються

  end note

  

  :Розрахувати загальну вартість;

  

  |**КЛІЄНТ**|

  :Ввести персональні дані;

  note right

    Ім'я, email, телефон

  end note

  

  :Підтвердити бронювання;

  :Перейти до оплати;

  

  |**ПЛАТІЖНИЙ ШЛЮЗ**|

  :Обробити платіжні дані;

  :Перевірити доступність коштів;

  

  |**СИСТЕМА КІНОТЕАТРУ**|

  

  if (Оплата успішна?) then (так)

    :Зафіксувати бронювання в БД;

    :Створити електронні квитки;

    :Надіслати квитки на email;

    

    |**КЛІЄНТ**|

    :Отримати квитки на email;

    :Друк квитків (опційно);

    

    stop

    

  else (ні / таймер вийшов)

    :Скасувати бронювання;

    :Звільнити місця;

    

    |**КЛІЄНТ**|

    :Отримати сповіщення про помилку;

    

    stop

  endif

  

else (ні)

  |**КЛІЄНТ**|

  :Отримати повідомлення "Місця зайняті";

  :Обрати інші місця або сеанс;

  

  stop

endif



@enduml